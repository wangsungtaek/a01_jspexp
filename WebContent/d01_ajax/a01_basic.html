<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="/jspexp/a00_com/jquery-3.5.1.js"></script>
<script type="text/javascript">
/* 
# ajax(asynchronized javascript) 비동기 자바스크립트 통신 방식
1. 화면에 js의 이벤트를 통해서, XMLHttpRequest객체를 생성하고,
	XMLHttpRequest객체가 화면 전환없이 요청값을 통해서 서버에 특정한 데이터를
	받아서 다시 html 화면에 처리해주는 방식을 말한다.
2. 궁극적으로 웹 프로그래밍에서 비동기의 기준은 요청값으로 통해서 서버에서 호출하는
	화면이나 데이터를 가져올 때까지 다른 작업이나 화면을 처리할 수 있느냐에 따른 내용이다.
	다른 작업이나 화면 처리를 할 수 있으면 비동기, 데이터를 가져올 때까지 기다리는 것을
	동기라고 한다.
3. 일반적 효율적인 데이터 처리나 프로그래밍에서는 비동기가 필요하다. 그러나,
	때때로 XMLHttpRequest를 통해서 현재화면을 refresh하지 않고,
	특정 데이터를 받아오는 내용 안에서 전체 데이터를 받거나 파일을 받고
	처리해야 되는 경우에는 동기가 필요하다. 그래서 open()의 마지막
	매개변수의 option을 동기/비동기로 나누고 있다.
4. 동기작업은 send()메서드 후, 데이터가 오기까지 기다렸다가 responseText를
	통해서 서버에서 데이터를 받아서 처리한다.
	비동기작업은 onreadystatechange 이벤트 메서드를 통해서 다른 작업을 하는도중에
	이벤트를 설정해 놓고, 상태값으로 데이터가 전체 입력이 되었을 때, 처리할
	수 있도록 한다.
*/
//
	$(document).ready(function(){
		$("h2").text("ajax처리");
		// 1. xmlhttpRequest객체를 통해서 화면전환없이 동기통신터리..
		$("h2").click(function(){
			alert("1. 이벤트 처리");
			var xhr = new XMLHttpRequest();
			alert("2. XMLHttpRequest 객체 생성 호출 :" + xhr);
		// 2. 서버에 있는 특정 페이지를 client에 가져오기..
		// xhr.open("get/post","서버에 있는 파일", 비동기여부)
		//	xhr.open("get","z01_data01.html",false); // 동기방식으로 호출
			xhr.open("get","z03_data03.text",false); // 동기방식으로 호출
		// 3. 호출
			xhr.send();
		// 4. 서버에서 해당 결과값 받음
			alert(xhr.responseText); // 문자열로 결과를 받음.
		// 5. 받은 결과를 현재 화면 특정 요소객체에 출력한다.
			$('div').html(xhr.responseText)	;

		});
	});
</script>
</head>
<body>
	<h2></h2>
	<div></div>
</body>
</html>